import{d as $,u as B,r as i,h as k,w as b,c as a,o as r,a as c,F as T,e as S,i as O,t as m,v as D,j as W,k as E,l as F,n as N,_ as V}from"./index-CK0kcUqY.js";const K={key:0,class:"inline text-nowrap"},L={class:"terminal-prompt mr-2 text-nowrap"},z={class:"text-wrap"},A={key:1,class:"terminal-file-list grid grid-cols-4"},R={key:0,class:"text-blue-400 mr-1"},H={key:1,class:"text-yellow-300 mr-1"},I={key:2,class:"terminal-output"},M={class:"terminal-line flex"},P={class:"terminal-prompt mr-2 text-nowrap"},U=$({__name:"TerminalWindow",setup(q){const{settings:_}=B(),p=i(""),u=i([{type:"output",text:"Welcome to é™ˆåˆ‘OS Terminal!"},{type:"output",text:'Type "help" for available commands'}]),d=i(null),h=i(null),l=i([]),f=k(()=>l.value.length>0?`~/${l.value.join("/")}`:"~"),w=t=>k(()=>`[${t}] $`),j=i({name:"~",type:"dir",children:[{name:"about.txt",type:"file",content:"é™ˆåˆ‘OS is a personal desktop environment built with Vue.js"},{name:"contact.txt",type:"file",content:"å¾®åš: @é™ˆåˆ‘å¾ˆåˆ‘"},{name:"projects",type:"dir",children:[{name:"game-dev",type:"dir",children:[]}]},{name:"documents",type:"dir",children:[{name:"ideas.md",type:"file",content:`# Future Features

- Notepad application
- Calculator`}]},{name:"readme.md",type:"file",content:`# Welcome to é™ˆåˆ‘OS
This is a personal desktop environment with a cozy minimalist theme.`}]}),v=()=>{let t=j.value.children;for(const n of l.value){const e=t.find(o=>o.name===n&&o.type==="dir"&&o.children);if(e&&e.children)t=e.children;else return[]}return t},g=()=>{N(()=>{d.value&&(d.value.scrollTop=d.value.scrollHeight)})};b(u,()=>{g()},{deep:!0}),b([d,h],()=>{var t;(t=h.value)==null||t.focus()});const x={help:()=>[{type:"output",text:"Available commands: "+Object.keys(x).join(", ")}],neofetch:()=>[{type:"output",text:"user@chenxing-dev.github.io"},{type:"output",text:"os           é™ˆåˆ‘OS v1.0"},{type:"output",text:"host       chenxing-dev.github.io"},{type:"output",text:"shell      vue-sh 3.5.13"},{type:"output",text:`theme  ${_.value.theme}`}],clear:()=>{u.value=[]},about:()=>[{type:"output",text:"é™ˆåˆ‘OS is a personal desktop environment built with Vue.js"}],date:()=>[{type:"output",text:new Date().toLocaleString()}],echo:t=>[{type:"output",text:t?t.join(" "):""}],ls:()=>[{type:"file-list",items:v()}],cat:t=>{if(!t||t.length===0)return[{type:"output",text:"cat: missing file operand"}];const n=t[0],o=v().find(s=>s.name===n&&s.type==="file");return o&&o.content?[{type:"output",text:o.content}]:[{type:"output",text:`cat: ${n}: No such file or directory`}]},cd:t=>{if(!t||t.length===0)return[];const n=t[0];return n===".."?(l.value.length>0&&(l.value=l.value.slice(0,-1)),[]):v().some(s=>s.name===n&&s.type==="dir")?(l.value=[...l.value,n],[]):[{type:"output",text:`cd: ${n}: No such directory`}]},pwd:()=>[{type:"output",text:f.value}]},C=()=>{const t=p.value.trim();if(!t)return;const n=f.value;u.value.push({type:"command",text:p.value,cwd:n});const[e,...o]=t.split(" "),s=e.toLowerCase();if(x[s]){const y=x[s](o);y&&u.value.push(...y)}else u.value.push({type:"output",text:`Command not found: ${e}.`}),u.value.push({type:"output",text:'Type "help" for commands.'});p.value="",g()};return(t,n)=>(r(),a("div",{class:E(["terminal whitespace-pre overflow-auto h-full text-wrap break-all py-2 px-4",F(_).theme]),ref_key:"terminalBody",ref:d},[(r(!0),a(T,null,S(u.value,(e,o)=>(r(),a("div",{key:o,class:"terminal-line"},[e.type==="command"?(r(),a("p",K,[c("span",L,m(w(e.cwd)),1),c("span",z,m(e.text),1)])):e.type==="file-list"?(r(),a("span",A,[(r(!0),a(T,null,S(e.items,(s,y)=>(r(),a("div",{key:y,class:"flex items-center"},[s.type==="dir"?(r(),a("span",R,"ðŸ“")):(r(),a("span",H,"ðŸ“„")),c("span",null,m(s.name),1)]))),128))])):(r(),a("p",I,m(e.text),1))]))),128)),c("p",M,[c("span",P,m(w(f.value)),1),O(c("input",{class:"terminal-input bg-transparent outline-none flex-1","onUpdate:modelValue":n[0]||(n[0]=e=>p.value=e),onKeyup:W(C,["enter"]),ref_key:"inputRef",ref:h,autofocus:""},null,544),[[D,p.value]])])],2))}}),J=V(U,[["__scopeId","data-v-12b54993"]]);export{J as default};
