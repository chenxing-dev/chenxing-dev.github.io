import{d as z,f as u,m as v,c as d,o as p,b as o,t as c,F as E,r as F,s as B,j as D}from"./index-CRdJaE-u.js";const W={class:"bg-zinc-200/50 p-4 font-mono h-full"},V={class:"display px-2 py-1 text-right border-x-12 border-y-6 border-secondary bg-zinc-50/80"},j={class:"text-zinc-400 text-sm min-h-[20px] overflow-x-hidden whitespace-nowrap"},R={class:"text-2xl min-h-[24px] whitespace-nowrap overflow-x-hidden"},$={class:"button-grid grid grid-cols-[repeat(4,_1fr)] gap-2 my-4"},q=["onClick"],O=z({__name:"CalculatorWindow",setup(I){const l=u("0"),n=u(null),t=u(null),s=u(!1),f=["C","CE","⌫","÷","7","8","9","×","4","5","6","-","1","2","3","+",".","0","+/-","="],h=v(()=>l.value),m=v(()=>n.value!==null&&t.value?`${n.value} ${t.value}`:""),_=(e,r)=>{D.to(r.target,{scale:.9,duration:.15,yoyo:!0,repeat:1,ease:"power1.out"}),!isNaN(Number(e))||e==="."?g(e):e==="C"?x():e==="CE"?b():e==="⌫"?C():e==="+/-"?k():e==="%"?w():["+","-","×","÷"].includes(e)?y(e):e==="="&&i()},g=e=>{s.value&&(l.value="0",s.value=!1),!(e==="."&&l.value.includes("."))&&(l.value==="0"&&e!=="."?l.value=e:l.value+=e)},y=e=>{t.value&&!s.value&&i(),t.value=e,n.value=l.value,s.value=!0},i=()=>{if(t.value===null||s.value)return;const e=parseFloat(n.value??"0"),r=parseFloat(l.value);let a;switch(t.value){case"+":a=e+r;break;case"-":a=e-r;break;case"×":a=e*r;break;case"÷":a=e/r;break;default:return}l.value=a.toString(),t.value=null,n.value=null,s.value=!0},x=()=>{l.value="0",n.value=null,t.value=null,s.value=!1},b=()=>{l.value="0"},C=()=>{l.value.length===1||l.value.length===2&&l.value.startsWith("-")?l.value="0":l.value=l.value.slice(0,-1)},k=()=>{l.value=l.value.startsWith("-")?l.value.slice(1):"-"+l.value},w=()=>{l.value=(parseFloat(l.value)/100).toString()};return(e,r)=>(p(),d("div",W,[o("div",V,[o("div",j,c(m.value),1),o("div",R,c(h.value),1)]),o("div",$,[(p(),d(E,null,F(f,(a,N)=>o("div",{key:N,class:B(["calc-btn h-8 text-xl bg-zinc-50/50 border border-secondary transition-all duration-200 font-medium flex items-center justify-center cursor-pointer select-none",{operator:["+","-","×","÷"].includes(a),number:!isNaN(Number(a))||a===".",function:["C","CE","⌫","+/-","%"].includes(a),equals:a==="="}]),onClick:S=>_(a,S)},c(a),11,q)),64))])]))}});export{O as default};
