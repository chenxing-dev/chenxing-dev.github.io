import{d as L,e as i,f as P,k as S,l as $,c,o as d,a as e,t as r,n as x,F as D,r as F,m as g,p as _}from"./index-Co3v4xfp.js";const R={class:"flex flex-col w-full h-full"},A={class:"w-full h-full flex flex-col justify-center px-2"},N=["src"],U={class:"px-4"},V={class:"mb-4"},G={class:"text-xl font-bold text-zinc-700"},I={class:"text-zinc-600"},K={class:"mb-4"},X={class:"flex justify-between text-zinc-500"},q={class:"flex items-center justify-center space-x-8 mb-4"},H={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},J={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},O={class:"border-t border-zinc-400 max-h-48 overflow-y-auto mx-2"},Q=["onClick"],W={key:0,class:"flex space-x-1"},Y={key:1,class:"text-zinc-500"},Z={class:"flex-1"},ee={class:"text-xs text-zinc-500"},te={class:"text-xs text-zinc-500"},ae=L({__name:"MusicPlayer",setup(le){const p=i([{id:1,title:"Gymnopédie No.1",artist:"Erik Satie, Eric Billingsley",duration:"3:32",color:"#3f3f46",file:{gymnopedie1:"/audio/gymnopedie_no1.mp3"}.gymnopedie1}]),s=i(0),a=i(!1),m=i(0),t=i(null),w=i(0),f=i(0),h=i(!1),v=P(()=>p.value[s.value]),k=()=>{t.value&&(a.value?t.value.pause():t.value.play().catch(n=>{console.error("Audio playback failed:",n)}),a.value=!a.value)},T=n=>{const l=Math.floor(n/60),o=Math.floor(n%60);return`${l}:${o<10?"0":""}${o}`},y=()=>{s.value=(s.value+1)%p.value.length,m.value=0,t.value&&(t.value.currentTime=0,t.value.play().then(()=>{a.value=!0}))},C=()=>{s.value=(s.value-1+p.value.length)%p.value.length,m.value=0,t.value&&(t.value.currentTime=0,t.value.play().then(()=>{a.value=!0}))},M=n=>{if(!t.value||!f.value)return;const l=n.currentTarget.getBoundingClientRect(),u=(n.clientX-l.left)/l.width*f.value;t.value.currentTime=u},j=()=>{!t.value||h.value||(w.value=t.value.currentTime,m.value=w.value/f.value*100)},B=()=>{t.value&&(f.value=t.value.duration)},E=()=>{y()},b=n=>{n.code==="Space"?(n.preventDefault(),k()):n.code==="ArrowRight"?(n.preventDefault(),t.value&&(t.value.currentTime=Math.min(t.value.currentTime+5,f.value))):n.code==="ArrowLeft"&&(n.preventDefault(),t.value&&(t.value.currentTime=Math.max(t.value.currentTime-5,0)))};return S(()=>{window.addEventListener("keydown",b)}),$(()=>{window.removeEventListener("keydown",b),t.value&&t.value.pause()}),(n,l)=>(d(),c("div",R,[e("div",A,[e("audio",{ref_key:"audioRef",ref:t,src:v.value.file,onTimeupdate:j,onLoadedmetadata:B,onEnded:E},null,40,N),e("div",U,[e("div",V,[e("h2",G,r(v.value.title),1),e("p",I,r(v.value.artist),1)]),e("div",K,[e("div",X,[e("span",null,r(T(w.value)),1),e("span",null,r(v.value.duration),1)]),e("div",{class:"h-1.5 bg-zinc-300 rounded-full overflow-hidden cursor-pointer",onClick:M,onMousedown:l[0]||(l[0]=o=>h.value=!0),onMouseup:l[1]||(l[1]=o=>h.value=!1)},[e("div",{class:"h-full transition-all duration-300",style:x({width:m.value+"%",backgroundColor:v.value.color})},null,4)],32)]),e("div",q,[e("button",{class:"w-8 h-8 text-zinc-500 hover:text-zinc-700 transition-colors",onClick:C},l[2]||(l[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})],-1)])),e("button",{class:"w-14 h-14 rounded-full flex items-center justify-center text-zinc-50 shadow-lg transition-all hover:scale-105",style:x({backgroundColor:v.value.color}),onClick:k},[a.value?(d(),c("svg",J,l[4]||(l[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):(d(),c("svg",H,l[3]||(l[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))],4),e("button",{class:"w-8 h-8 text-zinc-500 hover:text-zinc-700 transition-colors",onClick:y},l[5]||(l[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"})],-1)]))])]),e("div",O,[(d(!0),c(D,null,F(p.value,(o,u)=>(d(),c("div",{key:o.id,class:_(["flex items-center p-2 border-b border-zinc-300/50 hover:bg-zinc-100 cursor-pointer transition-colors",{"bg-zinc-50":s.value===u}]),onClick:oe=>{var z;s.value=u,a.value&&((z=t.value)==null||z.play())}},[e("div",{class:"w-10 h-10 mr-2 flex items-center justify-center",style:x({backgroundColor:o.color+"20"})},[s.value===u&&a.value?(d(),c("div",W,l[6]||(l[6]=[e("div",{class:"w-1 h-3 bg-zinc-500 animate-pulse",style:{"animation-delay":"0ms"}},null,-1),e("div",{class:"w-1 h-3 bg-zinc-500 animate-pulse",style:{"animation-delay":"300ms"}},null,-1),e("div",{class:"w-1 h-3 bg-zinc-500 animate-pulse",style:{"animation-delay":"600ms"}},null,-1)]))):(d(),c("div",Y,r(u+1),1))],4),e("div",Z,[e("div",{class:_({"text-zinc-600":s.value===u})},r(o.title),3),e("div",ee,r(o.artist),1)]),e("div",te,r(o.duration),1)],10,Q))),128))])]),l[7]||(l[7]=e("div",{class:"bg-zinc-100 p-2 text-center text-xs text-zinc-500 border-t border-zinc-300"},[e("span",{class:"inline-block bg-zinc-50 border border-zinc-300 px-2 py-1 rounded mr-2 shadow"},"Space"),g(" Play/Pause "),e("span",{class:"inline-block bg-zinc-50 border border-zinc-300 px-2 py-1 rounded mx-2 shadow"},"←"),g(" Rewind "),e("span",{class:"inline-block bg-zinc-50 border border-zinc-300 px-2 py-1 rounded ml-2 shadow"},"→"),g(" Forward ")],-1))]))}});export{ae as default};
